{"id":"b07266eb-137e-4fc3-af7e-8b3ed18dfab5","data":{"nodes":[{"width":384,"height":367,"id":"HuggingFaceHub-eL7ED","type":"genericNode","position":{"x":1198.9697490059848,"y":-67.9349193536495},"data":{"type":"HuggingFaceHub","node":{"template":{"callbacks":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"callbacks","advanced":false,"dynamic":false,"info":"","type":"langchain.callbacks.base.BaseCallbackHandler","list":true},"cache":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"cache","advanced":false,"dynamic":false,"info":"","type":"bool","list":false},"client":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"client","advanced":false,"dynamic":false,"info":"","type":"Any","list":false},"huggingfacehub_api_token":{"required":false,"placeholder":"","show":true,"multiline":false,"password":true,"name":"huggingfacehub_api_token","display_name":"HuggingFace Hub API Token","advanced":false,"dynamic":false,"info":"","type":"str","list":false,"value":""},"metadata":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"metadata","advanced":false,"dynamic":false,"info":"","type":"dict","list":false},"model_kwargs":{"required":false,"placeholder":"","show":true,"multiline":false,"password":false,"name":"model_kwargs","advanced":true,"dynamic":false,"info":"","type":"dict","list":false},"repo_id":{"required":false,"placeholder":"","show":true,"multiline":false,"value":"huggingfaceh4/zephyr-7b-beta","password":false,"name":"repo_id","advanced":false,"dynamic":false,"info":"","type":"str","list":false},"tags":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"tags","advanced":false,"dynamic":false,"info":"","type":"str","list":true},"task":{"required":true,"placeholder":"","show":true,"multiline":false,"value":"text-generation","password":false,"options":["text-generation","text2text-generation","summarization"],"name":"task","advanced":true,"dynamic":false,"info":"","type":"str","list":true},"verbose":{"required":false,"placeholder":"","show":false,"multiline":false,"value":false,"password":false,"name":"verbose","advanced":false,"dynamic":false,"info":"","type":"bool","list":false},"_type":"HuggingFaceHub"},"description":"HuggingFaceHub  models.","base_classes":["BaseLLM","LLM","BaseLanguageModel","HuggingFaceHub"],"display_name":"HuggingFaceHub","custom_fields":{},"output_types":[],"documentation":"https://python.langchain.com/docs/modules/model_io/models/llms/integrations/huggingface_hub","beta":false,"error":null},"id":"HuggingFaceHub-eL7ED"},"selected":false,"positionAbsolute":{"x":1198.9697490059848,"y":-67.9349193536495},"dragging":false},{"width":384,"height":339,"id":"LLMChain-uZq8b","type":"genericNode","position":{"x":1631.849879870667,"y":200.67244920474303},"data":{"type":"LLMChain","node":{"template":{"code":{"dynamic":true,"required":true,"placeholder":"","show":false,"multiline":true,"value":"from genflow import CustomComponent\nfrom langchain.chains import LLMChain\nfrom typing import Optional, Union, Callable\nfrom genflow.field_typing import (\n    BasePromptTemplate,\n    BaseLanguageModel,\n    BaseMemory,\n    Chain,\n)\n\n\nclass LLMChainComponent(CustomComponent):\n    display_name = \"LLMChain\"\n    description = \"Chain to run queries against LLMs\"\n\n    def build_config(self):\n        return {\n            \"prompt\": {\"display_name\": \"Prompt\"},\n            \"llm\": {\"display_name\": \"LLM\"},\n            \"memory\": {\"display_name\": \"Memory\"},\n            \"code\": {\"show\": False},\n        }\n\n    def build(\n        self,\n        prompt: BasePromptTemplate,\n        llm: BaseLanguageModel,\n        memory: Optional[BaseMemory] = None,\n    ) -> Chain:\n        return LLMChain(prompt=prompt, llm=llm, memory=memory)\n","password":false,"name":"code","advanced":false,"type":"code","list":false},"_type":"CustomComponent","llm":{"required":true,"placeholder":"","show":true,"multiline":false,"password":false,"name":"llm","display_name":"LLM","advanced":false,"dynamic":false,"info":"","type":"BaseLanguageModel","list":false},"memory":{"required":false,"placeholder":"","show":true,"multiline":false,"password":false,"name":"memory","display_name":"Memory","advanced":false,"dynamic":false,"info":"","type":"BaseMemory","list":false},"prompt":{"required":true,"placeholder":"","show":true,"multiline":false,"password":false,"name":"prompt","display_name":"Prompt","advanced":false,"dynamic":false,"info":"","type":"BasePromptTemplate","list":false}},"description":"Chain to run queries against LLMs","base_classes":["Chain"],"display_name":"LLMChain","custom_fields":{"llm":null,"memory":null,"prompt":null},"output_types":["LLMChain"],"documentation":"","beta":true,"error":null},"id":"LLMChain-uZq8b"},"selected":false,"positionAbsolute":{"x":1631.849879870667,"y":200.67244920474303},"dragging":false},{"width":384,"height":375,"id":"PromptTemplate-JExAx","type":"genericNode","position":{"x":1192.600300885312,"y":483.9136247399599},"data":{"type":"PromptTemplate","node":{"template":{"output_parser":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"output_parser","advanced":false,"dynamic":true,"info":"","type":"BaseOutputParser","list":false},"input_types":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"input_types","advanced":false,"dynamic":true,"info":"","type":"dict","list":false},"input_variables":{"required":true,"placeholder":"","show":false,"multiline":false,"password":false,"name":"input_variables","advanced":false,"dynamic":true,"info":"","type":"str","list":true,"value":["query"]},"partial_variables":{"required":false,"placeholder":"","show":false,"multiline":false,"password":false,"name":"partial_variables","advanced":false,"dynamic":true,"info":"","type":"dict","list":false},"template":{"required":true,"placeholder":"","show":true,"multiline":true,"password":false,"name":"template","advanced":false,"dynamic":true,"info":"","type":"prompt","list":false,"value":"You are an AI assistant who answers to the user query honestly and truthfully. \nuser query: {query}"},"template_format":{"required":false,"placeholder":"","show":false,"multiline":false,"value":"f-string","password":false,"name":"template_format","advanced":false,"dynamic":true,"info":"","type":"str","list":false},"validate_template":{"required":false,"placeholder":"","show":false,"multiline":false,"value":false,"password":false,"name":"validate_template","advanced":false,"dynamic":true,"info":"","type":"bool","list":false},"_type":"PromptTemplate","query":{"required":false,"placeholder":"","show":true,"multiline":true,"value":"","password":false,"name":"query","display_name":"query","advanced":false,"input_types":["Document","BaseOutputParser","Input"],"dynamic":false,"info":"","type":"str","list":false}},"description":"A prompt template for a language model.","base_classes":["BasePromptTemplate","StringPromptTemplate","PromptTemplate"],"name":"","display_name":"PromptTemplate","documentation":"https://python.langchain.com/docs/modules/model_io/prompts/prompt_templates/","custom_fields":{"":["query"],"template":["query"]},"output_types":[],"field_formatters":{},"beta":false,"error":null},"id":"PromptTemplate-JExAx"},"selected":false,"positionAbsolute":{"x":1192.600300885312,"y":483.9136247399599},"dragging":false},{"width":384,"height":577,"id":"ConversationBufferMemory-NEeXs","type":"genericNode","position":{"x":716.0363486629433,"y":-106.13937743934007},"data":{"type":"ConversationBufferMemory","node":{"template":{"chat_memory":{"required":false,"placeholder":"","show":true,"multiline":false,"password":false,"name":"chat_memory","advanced":false,"dynamic":false,"info":"","type":"BaseChatMessageHistory","list":false},"ai_prefix":{"required":false,"placeholder":"","show":false,"multiline":false,"value":"AI","password":false,"name":"ai_prefix","advanced":false,"dynamic":false,"info":"","type":"str","list":false},"human_prefix":{"required":false,"placeholder":"","show":false,"multiline":false,"value":"Human","password":false,"name":"human_prefix","advanced":false,"dynamic":false,"info":"","type":"str","list":false},"input_key":{"required":false,"placeholder":"","show":true,"multiline":false,"value":"query","password":false,"name":"input_key","advanced":false,"dynamic":false,"info":"The variable to be used as Chat Input when more than one variable is available.","type":"str","list":false},"memory_key":{"required":false,"placeholder":"","show":true,"multiline":false,"value":"chat_history","password":false,"name":"memory_key","advanced":false,"dynamic":false,"info":"","type":"str","list":false},"output_key":{"required":false,"placeholder":"","show":true,"multiline":false,"value":"","password":false,"name":"output_key","advanced":false,"dynamic":false,"info":"The variable to be used as Chat Output (e.g. answer in a ConversationalRetrievalChain)","type":"str","list":false},"return_messages":{"required":false,"placeholder":"","show":true,"multiline":false,"password":false,"name":"return_messages","advanced":false,"dynamic":false,"info":"","type":"bool","list":false},"_type":"ConversationBufferMemory"},"description":"Buffer for storing conversation memory.","base_classes":["BaseChatMemory","ConversationBufferMemory","BaseMemory"],"display_name":"ConversationBufferMemory","custom_fields":{},"output_types":[],"documentation":"https://python.langchain.com/docs/modules/memory/how_to/buffer","beta":false,"error":null},"id":"ConversationBufferMemory-NEeXs"},"selected":false,"positionAbsolute":{"x":716.0363486629433,"y":-106.13937743934007},"dragging":false}],"edges":[{"source":"HuggingFaceHub-eL7ED","sourceHandle":"{œbaseClassesœ:[œBaseLLMœ,œLLMœ,œBaseLanguageModelœ,œHuggingFaceHubœ],œdataTypeœ:œHuggingFaceHubœ,œidœ:œHuggingFaceHub-eL7EDœ}","target":"LLMChain-uZq8b","targetHandle":"{œfieldNameœ:œllmœ,œidœ:œLLMChain-uZq8bœ,œinputTypesœ:null,œtypeœ:œBaseLanguageModelœ}","data":{"targetHandle":{"fieldName":"llm","id":"LLMChain-uZq8b","inputTypes":null,"type":"BaseLanguageModel"},"sourceHandle":{"baseClasses":["BaseLLM","LLM","BaseLanguageModel","HuggingFaceHub"],"dataType":"HuggingFaceHub","id":"HuggingFaceHub-eL7ED"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-HuggingFaceHub-eL7ED{œbaseClassesœ:[œBaseLLMœ,œLLMœ,œBaseLanguageModelœ,œHuggingFaceHubœ],œdataTypeœ:œHuggingFaceHubœ,œidœ:œHuggingFaceHub-eL7EDœ}-LLMChain-uZq8b{œfieldNameœ:œllmœ,œidœ:œLLMChain-uZq8bœ,œinputTypesœ:null,œtypeœ:œBaseLanguageModelœ}"},{"source":"ConversationBufferMemory-NEeXs","sourceHandle":"{œbaseClassesœ:[œBaseChatMemoryœ,œConversationBufferMemoryœ,œBaseMemoryœ],œdataTypeœ:œConversationBufferMemoryœ,œidœ:œConversationBufferMemory-NEeXsœ}","target":"LLMChain-uZq8b","targetHandle":"{œfieldNameœ:œmemoryœ,œidœ:œLLMChain-uZq8bœ,œinputTypesœ:null,œtypeœ:œBaseMemoryœ}","data":{"targetHandle":{"fieldName":"memory","id":"LLMChain-uZq8b","inputTypes":null,"type":"BaseMemory"},"sourceHandle":{"baseClasses":["BaseChatMemory","ConversationBufferMemory","BaseMemory"],"dataType":"ConversationBufferMemory","id":"ConversationBufferMemory-NEeXs"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-ConversationBufferMemory-NEeXs{œbaseClassesœ:[œBaseChatMemoryœ,œConversationBufferMemoryœ,œBaseMemoryœ],œdataTypeœ:œConversationBufferMemoryœ,œidœ:œConversationBufferMemory-NEeXsœ}-LLMChain-uZq8b{œfieldNameœ:œmemoryœ,œidœ:œLLMChain-uZq8bœ,œinputTypesœ:null,œtypeœ:œBaseMemoryœ}"},{"source":"PromptTemplate-JExAx","sourceHandle":"{œbaseClassesœ:[œBasePromptTemplateœ,œStringPromptTemplateœ,œPromptTemplateœ],œdataTypeœ:œPromptTemplateœ,œidœ:œPromptTemplate-JExAxœ}","target":"LLMChain-uZq8b","targetHandle":"{œfieldNameœ:œpromptœ,œidœ:œLLMChain-uZq8bœ,œinputTypesœ:null,œtypeœ:œBasePromptTemplateœ}","data":{"targetHandle":{"fieldName":"prompt","id":"LLMChain-uZq8b","inputTypes":null,"type":"BasePromptTemplate"},"sourceHandle":{"baseClasses":["BasePromptTemplate","StringPromptTemplate","PromptTemplate"],"dataType":"PromptTemplate","id":"PromptTemplate-JExAx"}},"style":{"stroke":"#555"},"className":"stroke-gray-900  stroke-connection","animated":false,"id":"reactflow__edge-PromptTemplate-JExAx{œbaseClassesœ:[œBasePromptTemplateœ,œStringPromptTemplateœ,œPromptTemplateœ],œdataTypeœ:œPromptTemplateœ,œidœ:œPromptTemplate-JExAxœ}-LLMChain-uZq8b{œfieldNameœ:œpromptœ,œidœ:œLLMChain-uZq8bœ,œinputTypesœ:null,œtypeœ:œBasePromptTemplateœ}"}],"viewport":{"x":-457.0293176261516,"y":-20.404575788300235,"zoom":0.6903869625144234}},"description":"A simple Question and Answer assistant using Open Source Large Language models","name":"Simple_QA_OpenSourceLLMs","flow_type":"chat"}